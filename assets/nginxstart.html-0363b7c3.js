import{_ as a,M as o,p as i,q as c,Q as n,t as s,N as t,a1 as e}from"./framework-fb92cdbb.js";const p={},d=e(`<blockquote><p>Windows 服务器环境中安装的 nginx，通过nginx.exe启动后，默认不会开机自启，本文介绍两种方法设置nginx服务开机自动启动</p></blockquote><h2 id="使用-windows自带的任务计划程序" tabindex="-1"><a class="header-anchor" href="#使用-windows自带的任务计划程序" aria-hidden="true">#</a> 使用 Windows自带的任务计划程序</h2><ol><li>创建<code>nginx.start.bat</code>文件，粘贴如下示例代码（第一行代码根据nginx实际路径进行修改）</li></ol><div class="language-bat line-numbers-mode" data-ext="bat"><pre class="shiki" style="background-color:#2e3440ff;"><code><span class="line"><span style="color:#81A1C1;">cd</span><span style="color:#D8DEE9FF;"> /d D:\\nginx</span></span>
<span class="line"><span style="color:#81A1C1;">start</span><span style="color:#D8DEE9FF;"> nginx</span></span>
<span class="line"><span style="color:#D8DEE9FF;">nginx -s reload</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.配置任务计划程序（详细过程略）</p><ul><li>打开任务计划程序</li><li>创建基本任务进入创建基本任务向导</li><li>[触发器]中勾选<code>计算机启动时</code></li><li>[操作/启动程序/程序与脚本]文件选择指向步骤1中创建的<code>nginx.start.bat</code></li><li>点击<code>完成</code></li><li>任务列表中右击该任务，并选中<code>启用[N]</code>选项</li></ul><h2 id="使用-winsw-工具注册-windows-服务" tabindex="-1"><a class="header-anchor" href="#使用-winsw-工具注册-windows-服务" aria-hidden="true">#</a> 使用 WinSW 工具注册 Windows 服务</h2>`,7),r={href:"https://github.com/winsw/winsw/releases",target:"_blank",rel:"noopener noreferrer"},g=n("code",null,"WinSW-x64.exe",-1),x=n("code",null,"WinSW-x86.exe",-1),u=n("code",null,"nginx-service.exe",-1),v=e(`<p>2.在nginx安装目录中创建<code>nginx-service.xml</code>文件，粘贴如下内容</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="shiki" style="background-color:#2e3440ff;"><code><span class="line"><span style="color:#81A1C1;">&lt;service&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">    </span><span style="color:#81A1C1;">&lt;id&gt;</span><span style="color:#D8DEE9FF;">nginx</span><span style="color:#81A1C1;">&lt;/id&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">    </span><span style="color:#81A1C1;">&lt;name&gt;</span><span style="color:#D8DEE9FF;">nginx</span><span style="color:#81A1C1;">&lt;/name&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">    </span><span style="color:#81A1C1;">&lt;description&gt;</span><span style="color:#D8DEE9FF;">nginx</span><span style="color:#81A1C1;">&lt;/description&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">    </span><span style="color:#81A1C1;">&lt;logpath&gt;</span><span style="color:#D8DEE9FF;">D:\\nginx</span><span style="color:#81A1C1;">&lt;/logpath&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">    </span><span style="color:#81A1C1;">&lt;logmode&gt;</span><span style="color:#D8DEE9FF;">roll</span><span style="color:#81A1C1;">&lt;/logmode&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">    </span><span style="color:#81A1C1;">&lt;depend&gt;&lt;/depend&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">    </span><span style="color:#81A1C1;">&lt;executable&gt;</span><span style="color:#D8DEE9FF;">D:\\nginx\\nginx.exe</span><span style="color:#81A1C1;">&lt;/executable&gt;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">    </span><span style="color:#81A1C1;">&lt;stopexecutable&gt;</span><span style="color:#D8DEE9FF;">D:\\nginx\\nginx.exe -s stop</span><span style="color:#81A1C1;">&lt;/stopexecutable&gt;</span></span>
<span class="line"><span style="color:#81A1C1;">&lt;/service&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.以管理员身份运行<code>cmd</code>并<code>cd</code>到 nginx 安装目录，输入以下命令</p><div class="language-cmd line-numbers-mode" data-ext="cmd"><pre class="shiki" style="background-color:#2e3440ff;"><code><span class="line"><span style="color:#D8DEE9;">nginx</span><span style="color:#81A1C1;">-</span><span style="color:#D8DEE9FF;">service.exe install</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>4.在 Windows 服务中验证是否已经存在名为<code>nginx</code>的服务，若存在则右击配置服务自动启动即可</p>`,5);function D(y,E){const l=o("ExternalLinkIcon");return i(),c("div",null,[d,n("p",null,[s("1.下载对应位数的 "),n("a",r,[s("WinSW安装包"),t(l)]),s("（64位对应"),g,s(",32位对应"),x,s("）并重命名为"),u,s("放入 nginx 安装目录中")]),v])}const F=a(p,[["render",D],["__file","nginxstart.html.vue"]]);export{F as default};

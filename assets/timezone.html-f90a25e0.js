import{_ as n,M as o,p as c,q as t,Q as e,t as a,N as r,a1 as l}from"./framework-fb92cdbb.js";const i={},d=l(`<blockquote><p>Jenkins Docker 容器启动后时区默认是<code>Etc/UTC</code>，每次运行作业会发现构建历史中的时间都会比本地时间早8个小时，本文记录修改Jenkins 默认时区的方法</p></blockquote><h2 id="进入-docker-容器后台" tabindex="-1"><a class="header-anchor" href="#进入-docker-容器后台" aria-hidden="true">#</a> 进入 Docker 容器后台</h2><div class="language-bash" data-ext="sh"><pre class="shiki" style="background-color:#2e3440ff;"><code><span class="line"><span style="color:#D8DEE9FF;">sudo docker </span><span style="color:#88C0D0;">exec</span><span style="color:#D8DEE9FF;"> -it -u root {container id}</span></span>
<span class="line"><span style="color:#D8DEE9FF;">cat /etc/timezone</span></span>
<span class="line"></span></code></pre></div><blockquote><p>查看<code>/etc/timezone</code>内容是否为默认的<code>Etc/UTC</code></p></blockquote><h2 id="修改时区" tabindex="-1"><a class="header-anchor" href="#修改时区" aria-hidden="true">#</a> 修改时区</h2><div class="language-bash" data-ext="sh"><pre class="shiki" style="background-color:#2e3440ff;"><code><span class="line"><span style="color:#88C0D0;">echo</span><span style="color:#D8DEE9FF;"> Asia/Shanghai </span><span style="color:#81A1C1;">&gt;</span><span style="color:#D8DEE9FF;">/etc/timezone</span></span>
<span class="line"></span></code></pre></div><blockquote><p>将默认时区修改为东八区<code>Asia/Shanghai</code></p></blockquote><h2 id="退出后台并重启容器" tabindex="-1"><a class="header-anchor" href="#退出后台并重启容器" aria-hidden="true">#</a> 退出后台并重启容器</h2><div class="language-bash" data-ext="sh"><pre class="shiki" style="background-color:#2e3440ff;"><code><span class="line"><span style="color:#88C0D0;">exit</span></span>
<span class="line"><span style="color:#D8DEE9FF;">sudo docker restart {container id}</span></span>
<span class="line"></span></code></pre></div><h2 id="完成" tabindex="-1"><a class="header-anchor" href="#完成" aria-hidden="true">#</a> 完成</h2><blockquote><p>通过以上三小步即可完成时区修改，登录Jenkins后验证时间是否与本地时间保持一致</p></blockquote><h2 id="补充" tabindex="-1"><a class="header-anchor" href="#补充" aria-hidden="true">#</a> 补充</h2>`,12),p={href:"https://www.jenkins.io/doc/book/using/change-time-zone/",target:"_blank",rel:"noopener noreferrer"};function h(k,u){const s=o("ExternalLinkIcon");return c(),t("div",null,[d,e("blockquote",null,[e("p",null,[a("除了上述命令行交互方式修改时区之外，官网提供了通过 Jenkins 管理界面进行设置的方法，"),e("a",p,[a("参考地址"),r(s)])])])])}const f=n(i,[["render",h],["__file","timezone.html.vue"]]);export{f as default};

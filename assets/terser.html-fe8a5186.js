import{_ as t,M as o,p as r,q as d,Q as s,t as n,N as l,U as a,a1 as i}from"./framework-fb92cdbb.js";const E={},F=s("blockquote",null,[s("p",null,[n("项目开发稳定，后期上生产环境的时候，需要进行性能优化，删除开发环境的控制台打印消息是优化中的一项，基于"),s("code",null,"webpack"),n("打包的项目可以使用"),s("code",null,"terser-webpack-plugin"),n("，本文对该插件配置过程进行记录。")])],-1),h={class:"custom-container warning"},y=s("p",{class:"custom-container-title"},"说明",-1),u=s("code",null,"webpack 4",-1),v={href:"https://github.com/webpack-contrib/uglifyjs-webpack-plugin#uglifyoptions",target:"_blank",rel:"noopener noreferrer"},D=s("code",null,"uglifyjs-webpack-plugin",-1),g=i("<li><code>terser-webpack-plugin</code> 支持<code>webpack</code>4与5版本；</li><li>devtool 的 source maps仅支持以下选项：<code>source-map</code>, <code>inline-source-map</code>, <code>hidden-source-map</code> 以及<code>nosources-source-map values</code>。</li>",2),b=s("h2",{id:"安装",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#安装","aria-hidden":"true"},"#"),n(" 安装")],-1),C=s("p",null,[n("首先将"),s("code",null,"terser-webpack-plugin"),n(" 安装到项目的 "),s("code",null,"dev"),n(" 依赖中")],-1),m=s("div",{class:"language-bash","data-ext":"sh"},[s("pre",{class:"shiki",style:{"background-color":"#2e3440ff"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#D8DEE9FF"}},"npm install terser-webpack-plugin --save-dev")]),n(`
`),s("span",{class:"line"})])])],-1),_=s("div",{class:"language-bash","data-ext":"sh"},[s("pre",{class:"shiki",style:{"background-color":"#2e3440ff"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#D8DEE9FF"}},"yarn add -D terser-webpack-plugin")]),n(`
`),s("span",{class:"line"})])])],-1),k=s("div",{class:"language-bash","data-ext":"sh"},[s("pre",{class:"shiki",style:{"background-color":"#2e3440ff"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#D8DEE9FF"}},"pnpm add -D terser-webpack-plugin")]),n(`
`),s("span",{class:"line"})])])],-1),f=i(`<h2 id="配置" tabindex="-1"><a class="header-anchor" href="#配置" aria-hidden="true">#</a> 配置</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki" style="background-color:#2e3440ff;"><code><span class="line"><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">TerserPlugin</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">=</span><span style="color:#D8DEE9FF;"> </span><span style="color:#88C0D0;">require</span><span style="color:#D8DEE9FF;">(</span><span style="color:#ECEFF4;">&#39;</span><span style="color:#A3BE8C;">terser-webpack-plugin</span><span style="color:#ECEFF4;">&#39;</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#8FBCBB;">module</span><span style="color:#ECEFF4;">.</span><span style="color:#8FBCBB;">exports</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">=</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">{</span></span>
<span class="line"><span style="color:#ECEFF4;">  </span><span style="color:#616E88;">// ...webpack config,</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  </span><span style="color:#88C0D0;">optimization</span><span style="color:#ECEFF4;">:</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">{</span></span>
<span class="line"><span style="color:#D8DEE9FF;">    </span><span style="color:#88C0D0;">minimize</span><span style="color:#ECEFF4;">:</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">true</span><span style="color:#ECEFF4;">,</span></span>
<span class="line"><span style="color:#D8DEE9FF;">    </span><span style="color:#88C0D0;">minimizer</span><span style="color:#ECEFF4;">:</span><span style="color:#D8DEE9FF;"> [</span></span>
<span class="line"><span style="color:#D8DEE9FF;">        </span><span style="color:#81A1C1;">new</span><span style="color:#D8DEE9FF;"> </span><span style="color:#88C0D0;">TerserPlugin</span><span style="color:#D8DEE9FF;">(</span><span style="color:#ECEFF4;">{</span></span>
<span class="line"><span style="color:#D8DEE9FF;">            </span><span style="color:#88C0D0;">terserOptions</span><span style="color:#ECEFF4;">:</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">{</span></span>
<span class="line"><span style="color:#D8DEE9FF;">                </span><span style="color:#88C0D0;">compress</span><span style="color:#ECEFF4;">:</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">{</span></span>
<span class="line"><span style="color:#D8DEE9FF;">                    </span><span style="color:#88C0D0;">drop_console</span><span style="color:#ECEFF4;">:</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">true</span><span style="color:#ECEFF4;">,</span></span>
<span class="line"><span style="color:#D8DEE9FF;">                    </span><span style="color:#88C0D0;">drop_debugger</span><span style="color:#ECEFF4;">:</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">true</span></span>
<span class="line"><span style="color:#D8DEE9FF;">                </span><span style="color:#ECEFF4;">},</span></span>
<span class="line"><span style="color:#D8DEE9FF;">                </span><span style="color:#88C0D0;">format</span><span style="color:#ECEFF4;">:</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">{</span></span>
<span class="line"><span style="color:#D8DEE9FF;">                    </span><span style="color:#88C0D0;">comments</span><span style="color:#ECEFF4;">:</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">false</span></span>
<span class="line"><span style="color:#D8DEE9FF;">                </span><span style="color:#ECEFF4;">}</span></span>
<span class="line"><span style="color:#D8DEE9FF;">            </span><span style="color:#ECEFF4;">},</span></span>
<span class="line"><span style="color:#D8DEE9FF;">            </span><span style="color:#88C0D0;">extractComments</span><span style="color:#ECEFF4;">:</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">false</span></span>
<span class="line"><span style="color:#D8DEE9FF;">        </span><span style="color:#ECEFF4;">}</span><span style="color:#D8DEE9FF;">)</span></span>
<span class="line"><span style="color:#D8DEE9FF;">    ]</span><span style="color:#ECEFF4;">,</span></span>
<span class="line"><span style="color:#ECEFF4;">    </span><span style="color:#616E88;">// ...otherOptions</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  </span><span style="color:#ECEFF4;">}</span></span>
<span class="line"><span style="color:#ECEFF4;">}</span></span>
<span class="line"></span></code></pre><div class="highlight-lines"><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="验证" tabindex="-1"><a class="header-anchor" href="#验证" aria-hidden="true">#</a> 验证</h2><blockquote><p>打包并发布到生产环境后，查看浏览器控制台发现浏览器console空空如也!</p></blockquote>`,4),w={href:"https://webpack.js.org/plugins/terser-webpack-plugin/",target:"_blank",rel:"noopener noreferrer"};function x(A,B){const p=o("ExternalLinkIcon"),e=o("CodeGroupItem"),c=o("CodeGroup");return r(),d("div",null,[F,s("div",h,[y,s("ul",null,[s("li",null,[u,n(" 之前使用的可实现相同功能的 "),s("a",v,[D,l(p)]),n("插件已废弃；")]),g])]),b,C,l(c,null,{default:a(()=>[l(e,{title:"npm",active:""},{default:a(()=>[m]),_:1}),l(e,{title:"yarn"},{default:a(()=>[_]),_:1}),l(e,{title:"pnpm"},{default:a(()=>[k]),_:1})]),_:1}),f,s("p",null,[s("a",w,[n("webpack terser-webpack-plugin 官网配置项参考"),l(p)])])])}const q=t(E,[["render",x],["__file","terser.html.vue"]]);export{q as default};
